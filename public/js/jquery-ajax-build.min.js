(function(l,h,g){g=h.ohm=h.ohm||{};g=g.tt=g.tooltip={};g.tipStatus=!1;g.tipElement=null;g.animTime=300;g.delay=5E3;g.tip=function(a,b){var e=this;if(!e.tipStatus){e.tipElement&&(e.tipElement.remove(),e.tipStatus=!0);var c,d=e.tipElement=l('<div class="ajax_build_tip '+a+'" />').html(b);"absolute"!==d.css("position")&&d.css({position:"absolute"});d.css("top")||d.css({top:"30"});l("body").append(d.css({visibility:"hidden",display:"block"}));c=0.5*(l(h).width()-d.outerWidth());d.css({left:c,visibility:"visible",
display:"none"}).fadeIn(e.animTime);setTimeout(function(){d.fadeOut(e.animTime,function(){d.remove();e.tipStatus=!1})},e.delay)}};g.errorTip=function(a){this.tip("error",a)};g.successTip=function(a){this.tip("success",a)};g.warningTip=function(a){this.tip("warning",a)}})(jQuery,this);
(function(l,h,g){g=h.ohm=h.ohm||{};var a=g.ab=g.ajaxBuild={};a.vesion="1.6";a.indexUrl="#index";a.isLogin=!1;a.currentUrl="";a.latestUrl=a.indexUrl;a.time="";a.getData=function(){return this.data};a.setData=function(b){this.data=b};a.cache={key:[]};a.callback={noHash:null,onBeforeSend:null,onDataSuccess:null,onTempComplete:null};a.reload=function(){this.time="";l(h).hashchange()};a.loadTemp=function(b,e){function c(){d.loadJs(g.jsUrl);d.callback.onTempComplete&&d.callback.onTempComplete.call(d,d.latestUrl)}
for(var d=this,a=b.length,f=d.latestUrl,g=d.latestData,r=function(b){var e={};k=0;for(a=b.length;k<a;k++){var d=b[k];e[d]||(e[d]=[]);e[d].push([k,""])}return e}(g.mod),k=0,m=0,h=0,q=0,n,p,s={};h<a;)s[b[h]]=h,h++;for(;k<a;k++)h=b[k],(p=d.getCache("temp",h))?(n=e?g.mod[k]:d.getCache(f,"mod")[k],p=d.appendHtml(p,g.data[k],r,k,n,e),d.setCache("$"+f,h,p),q++,m>=a-q&&c()):l.ajax({url:h,beforeSend:function(){},success:function(b){var k=this.url,h=s[k];d.setCache("temp",k,b);b=d.getCache("temp",k);n=e?g.mod[h]:
d.getCache(f,"mod")[h];h=d.appendHtml(b,g.data[h],r,h,n,e);d.setCache("$"+f,k,h);m++;m>=a-q&&c()},error:function(b){}})};a.appendHtml=function(b,e,c,d,a,f){var h=baidu.template;b=h(b,e);e=l('<div class="cache" />');var g;if(f)g=l(b).appendTo(this.snapCache);else for(f=0,h=c[a].length;f<h;f++)if(c[a][f][0]===d)if(0===f){var k=f+1;if(k<h-1){for(;""==c[a][k][1];)k++;""!=c[a][k][1]?c[a][f][1]=g=e.insertBefore(c[a][f-1][1]).html(b):c[a][f][1]=g=e.appendTo(a).html(b)}else c[a][f][1]=g=e.appendTo(a).html(b)}else if(f===
h-1){var m=f-1;if(0<m){for(;""==c[a][m][1];)m--;""!=c[a][m][1]?c[a][f][1]=g=e.insertAfter(c[a][f-1][1]).html(b):c[a][f][1]=g=e.appendTo(a).html(b)}else c[a][f][1]=g=e.appendTo(a).html(b)}else if(m=f-1,k=f+1,0<m){for(;""==c[a][m][1];)m--;""!=c[a][m][1]&&(c[a][f][1]=g=e.insertAfter(c[a][f-1][1]).html(b))}else if(k<h-1){for(;""==c[a][k][1];)k++;""!=c[a][k][1]?c[a][f][1]=g=e.insertBefore(c[a][f-1][1]).html(b):c[a][f][1]=g=e.appendTo(a).html(b)}else c[a][f][1]=g=e.appendTo(a).html(b);return g};a.loadCss=
function(b){for(var a in b){var c=b[a];this.getCache("css",c)||(l('<link rel="stylesheet" href="'+b[a]+'" />').appendTo("head"),this.setCache("css",c,c))}};a.loadJs=function(b){for(var a in b){var c=b[a];this.getCache("js",c)?this.loadOneJs(c,!0):(this.loadOneJs(c,!1),this.setCache("js",c,c))}};a.loadOneJs=function(b,a){l.ajax({url:b,cache:a,dataType:"script"})};a.clearCache=function(){};a.isReload=function(){var b=this.time,a=this.isLogin;return""==b||b!=this.latestData.time||a!=this.latestData.isLogin?
!0:!1};a.loadPage=function(b,a,c){var d=this;d.time=d.getCache(b,"time")||"";d.isLogin=d.getCache(b,"isLogin")||!1;l.ajax({type:"POST",data:{time:d.time,mod:c||""},url:b,dataType:"json",beforeSend:function(){d.callback.onBeforeSend&&d.callback.onBeforeSend.call(d,b)},success:function(c){d.callback.onDataSuccess&&d.callback.onDataSuccess.call(d,b);if(1==c.code)d.latestData=d.resolve(c),d.countPage=d.latestData.countPage,d.setCache(b,"mod",d.latestData.mod),a?d.appendNewPage(b,d.latestData):d.isReload()?
(d.removeCachePage(b),d.loadNewPage(b,d.latestData)):d.showCachePage(d.currentUrl,b);else{var f=d.currentMsg=c.error.msg;f&&""!==f&&d.callback.onNewDataError&&d.callback.onNewDataError.call(d,f);(f=c.error.url)&&""!==f&&(d.hidePage(d.currentUrl),c.error.cross?h.location.href=f:h.location.hash=f.split("#")[1])}a||(d.currentUrl=b)},complete:function(){},error:function(b){}})};a.loadNewPage=function(b,a){this.hidePage(this.currentUrl);this.setCache(b,"time",a.time);this.setCache(b,"isLogin",a.isLogin);
this.loadCss(a.cssUrl);this.loadTemp(a.tempUrl,!1)};a.appendNewPage=function(b,a){this.loadCss(a.cssUrl);this.loadTemp(a.tempUrl,!0)};a.hidePage=function(b){b=this.cache["$"+b];for(var a in b)b[a]&&b[a].hide()};a.showPage=function(b){b=this.cache["$"+b];for(var a in b)b[a].show()};a.gv=a.getVisible=function(b){var a=[],c=this.cache["$"+this.currentUrl],d;for(d in c)if(c[d])for(var g=c[d].find(b),f=0,h=g.length;f<h;f++)a.push(g[f]);return l(a)};a.gc=a.getCacheElement=function(){var b=[],a=this.cache["$"+
this.currentUrl],c;for(c in a){var d=a[c];if(d)for(var g=0,f=d.length;g<f;g++)b.push(d[g])}return l(b)};a.showCachePage=function(b,e){a.hidePage(b);a.showPage(e)};a.removeCachePage=function(a){var e=this.cache["$"+a],c;for(c in e)e[c]&&0!==e[c].length&&(e[c].remove(),e[c]=null);this.setCache(a,"time","");this.setCache(a,"isLogin",!1);this.setCache(a,"mod",[])};a.getHash=function(){var b=h.location.hash,b=b?b.split("#")[1]:"";return a.latestUrl=b};a.getLink=function(b){b=(b=b.attr("href"))?b.split("#")[1]:
"";return a.newUrl=b};a.resolve=function(a){var e={data:[],tempUrl:[],jsUrl:[],cssUrl:[],mod:[]};e.time=a.time||"";e.countPage=a.count_page;e.isLogin=a.is_login||!1;for(var c in a.data)e.data.push(a.data[c]);for(c in a.temp_url)e.tempUrl.push(a.temp_url[c]);for(c in a.css_url)e.cssUrl.push(a.css_url[c]);for(c in a.js_url)e.jsUrl.push(a.js_url[c]);for(c in a.mod)e.mod.push(a.mod[c]);return e};a.setCache=function(b,e,c){b=a.cache[b]=a.cache[b]||{};b[e]||(b[e]=c)};a.getCache=function(b,e){b=a.cache[b]=
a.cache[b]||{};return b[e]};a.jump=function(b){""===b?h.location.hash=a.indexUrl:this.loadPage(b,!1)};l(h).bind("hashchange",function(b){b=a.getHash();a.jump(b)})})(jQuery,this);
