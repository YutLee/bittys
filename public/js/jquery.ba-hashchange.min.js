(function(a,r,s){function d(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var c="hashchange",l=document,e,g=a.event.special,t=l.documentMode,n="on"+c in r&&(t===s||7<t);a.fn[c]=function(a){return a?this.bind(c,a):this.trigger(c)};a.fn[c].delay=50;g[c]=a.extend(g[c],{setup:function(){if(n)return!1;a(e.start)},teardown:function(){if(n)return!1;a(e.stop)}});e=function(){function e(){var f=d(),b=g(m);f!==m?(p(m=f,b),a(r).trigger(c)):b!==m&&(location.href=location.href.replace(/#.*/,
"")+b);h=setTimeout(e,a.fn[c].delay)}var k={},h,m=d(),q=function(a){return a},p=q,g=q;k.start=function(){h||e()};k.stop=function(){h&&clearTimeout(h);h=s};a.browser.msie&&!n&&function(){var f,b;k.start=function(){f||(b=(b=a.fn[c].src)&&b+d(),f=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){b||p(d());e()}).attr("src",b||"javascript:0").insertAfter("body")[0].contentWindow,l.onpropertychange=function(){try{"title"===event.propertyName&&(f.document.title=l.title)}catch(a){}})};
k.stop=q;g=function(){return d(f.location.href)};p=function(b,e){var d=f.document,g=a.fn[c].domain;b!==e&&(d.title=l.title,d.open(),g&&d.write('<script>document.domain="'+g+'"\x3c/script>'),d.close(),f.location.hash=b)}}();return k}()})(jQuery,this);
